<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<link rel="stylesheet" type="text/css" href="http://localhost:8080/html_prj/common/css/main_v20190130.css">
<style type="text/css">
	#can{
		border: 1px solid #333;;
	}
</style>
	<script type="text/javascript">
		window.onload = function() {
			document.getElementById("rect").addEventListener("click", drawRect);
			document.getElementById("img").addEventListener("click", drawImg);
			document.getElementById("line").addEventListener("click", drawLine);
		}// onload = function()
		
		function drawRect() {
			//1. 캔버스 얻기
			var can = document.getElementById("can");
			//2. 그래픽객체 얻기
			var ctx = can.getContext("2d");
			//초기화 : 그래픽 객체를 초기화
			ctx.clearRect(0, 0, can.width, can.height);
			//3. 색 변경하기 : 속성 fillStyle = "rgb(R,G,B)", fillStyle = "rgba(R,G,B,투명도)"
			ctx.fillStyle="rgba(255,0,0,0.3)";
			//4. 지정한 좌표에 사각형 그리기 : fillRext(x,y,w,h)
			ctx.fillRect(50, 80, 80, 40);
		}// drawRect()
		
		function drawImg() {
			//1. 캔버스 얻기
			var can = document.getElementById("can");
			//2. 그래픽객체 얻기
			var ctx = can.getContext("2d");
			ctx.clearRect(0, 0, can.width, can.height);
			//3. 이미지 객체생성
			var img = new Image();
			//4. 이미지 객체의 경로 설정 : img.src = "이미지경로"
			img.src = "../common/images/img.png";
			//5. 이미지 그리기 : 이미지의 크기 ctx.drawImg(이미지객체,x,y)
			//ctx.drawImage(img, 100, 50);
			ctx.drawImage(img, 30, 30, 100,100);
		}

		function drawLine() {
			//1. 캔버스 얻기
			var can = document.getElementById("can");
			//2. 그래픽객체 얻기
			var ctx = can.getContext("2d");
			ctx.clearRect(0, 0, can.width, can.height);
			//3. 선긋기 시작 함수 호출 : ctx.beginPath()
			ctx.beginPath();
			//시작 좌표 : ctx.moveTo(x1,y1)
			ctx.moveTo(25, 50);
			//끝 좌표 : ctx.lineTo(x1,y1)
			ctx.lineTo(150, 50);
			ctx.lineTo(25, 150); // 위의 lineTo에서 설정된 좌표를 시작점으로 선을 그린다.

			ctx.moveTo(25, 50); //좌표가 재설정되고
			ctx.lineTo(25, 150); //재설정된 
			ctx.stroke();
			//마지막 선이 설정 되지 않으면 자동으로 채워준다.
			//3. 선긋기 끝 함수 호출 : ctx.closePath()
		}
		
	</script>
</head>

<body>

<canvas id="can" width="500" height="500"></canvas>
 <br>
 <input type="button" value="사각형" class="btn" id="rect">
 <input type="button" value="이미지" class="btn" id="img">
 <input type="button" value="선" class="btn" id="line">

</body>
</html>